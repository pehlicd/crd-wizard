(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[528],{13406:(e,l,s)=>{"use strict";s.d(l,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>n});var a=s(95155),r=s(12115),t=s(25667),i=s(64269);let n=t.bL,d=r.forwardRef((e,l)=>{let{className:s,...r}=e;return(0,a.jsx)(t.B8,{ref:l,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});d.displayName=t.B8.displayName;let c=r.forwardRef((e,l)=>{let{className:s,...r}=e;return(0,a.jsx)(t.l9,{ref:l,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});c.displayName=t.l9.displayName;let o=r.forwardRef((e,l)=>{let{className:s,...r}=e;return(0,a.jsx)(t.UC,{ref:l,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});o.displayName=t.UC.displayName},35634:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>k});var a=s(95155),r=s(12115),t=s(52619),i=s.n(t),n=s(3998),d=s(86948),c=s(13406),o=s(64269);let m=r.forwardRef((e,l)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:l,...r})});m.displayName="Textarea";var x=s(65142),f=s(10489);let u=(0,s(83101).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=r.forwardRef((e,l)=>{let{className:s,...r}=e;return(0,a.jsx)(f.b,{ref:l,className:(0,o.cn)(u(),s),...r})});h.displayName=f.b.displayName;var p=s(11186),b=s(39315),j=s(449),v=s(74233),g=s(15894),N=s(49308),w=s(22133),y=s(29751);function k(){let[e,l]=(0,r.useState)("raw"),[s,t]=(0,r.useState)(""),[o,f]=(0,r.useState)(""),[u,k]=(0,r.useState)("html"),[C,R]=(0,r.useState)(""),[L,U]=(0,r.useState)(!1),{toast:P}=(0,g.dj)(),S=(0,r.useCallback)(async(e,l,s)=>{if(e||l){U(!0);try{let a=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,url:l,format:s})});if(!a.ok)throw Error(await a.text());let r=await a.text();R(r)}catch(e){P({title:"Generation Failed",description:e.message,variant:"destructive"})}finally{U(!1)}}},[P]);return(0,r.useEffect)(()=>{let l="",a="";"raw"===e||"file"===e?l=s:"url"===e&&(a=o),(l||a)&&C&&S(l,a,u)},[u]),(0,a.jsxs)("div",{className:"min-h-screen md:h-screen md:overflow-hidden bg-background text-foreground flex flex-col",children:[(0,a.jsxs)("header",{className:"border-b border-border/50 bg-card/50 backdrop-blur-md p-4 flex items-center justify-between flex-shrink-0 sticky top-0 z-10 md:static",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i(),{href:"/",children:(0,a.jsx)(n.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(v.K9R,{className:"h-5 w-5"})})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-primary/10 rounded-xl",children:(0,a.jsx)(b.gu,{className:"w-6 h-6 text-primary"})}),(0,a.jsx)("h1",{className:"text-xl font-bold font-headline",children:"Doc Generator"})]})]}),(0,a.jsx)(j.U,{})]}),(0,a.jsx)("main",{className:"flex-1 container mx-auto p-4 md:p-6 max-w-[1600px] md:h-full md:overflow-hidden",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:h-full h-auto",children:[(0,a.jsx)("div",{className:"md:h-full h-[600px] min-h-0 flex flex-col",children:(0,a.jsxs)(d.Zp,{className:"flex-1 flex flex-col min-h-0",children:[(0,a.jsxs)(d.aR,{className:"flex-shrink-0",children:[(0,a.jsx)(d.ZB,{children:"Input Source"}),(0,a.jsx)(d.BT,{children:"Provide your CRD definition (YAML or JSON)"})]}),(0,a.jsxs)(d.Wu,{className:"flex-1 flex flex-col min-h-0 gap-4 overflow-hidden p-6 pt-0",children:[(0,a.jsxs)(c.tU,{defaultValue:"raw",className:"flex-1 flex flex-col min-h-0",onValueChange:e=>l(e),children:[(0,a.jsxs)(c.j7,{className:"grid w-full grid-cols-3 mb-4 flex-shrink-0",children:[(0,a.jsx)(c.Xi,{value:"raw",children:"Raw Content"}),(0,a.jsx)(c.Xi,{value:"file",children:"File Upload"}),(0,a.jsx)(c.Xi,{value:"url",children:"Git URL"})]}),(0,a.jsx)(c.av,{value:"raw",className:"flex-1 min-h-0 mt-0",children:(0,a.jsx)(m,{placeholder:"Paste your CRD YAML/JSON here...",className:"h-full resize-none font-mono text-sm",value:s,onChange:e=>t(e.target.value)})}),(0,a.jsx)(c.av,{value:"file",className:"flex-1 min-h-0 mt-0",children:(0,a.jsxs)("div",{className:"h-full flex flex-col gap-4 items-center justify-center border-2 border-dashed border-border rounded-lg bg-muted/20",children:[(0,a.jsxs)(h,{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[(0,a.jsx)("div",{className:"p-4 rounded-full bg-primary/10 text-primary",children:(0,a.jsx)(v.b17,{className:"w-8 h-8"})}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Click to upload YAML/JSON"})]}),(0,a.jsx)(x.p,{id:"file-upload",type:"file",accept:".yaml,.yml,.json",className:"hidden",onChange:e=>{var l;let s=null==(l=e.target.files)?void 0:l[0];if(s){let e=new FileReader;e.onload=e=>{var l;t(null==(l=e.target)?void 0:l.result)},e.readAsText(s)}}}),s&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground bg-secondary px-2 py-1 rounded",children:["File loaded (",s.length," bytes)"]})]})}),(0,a.jsx)(c.av,{value:"url",className:"flex-1 min-h-0 mt-0",children:(0,a.jsx)("div",{className:"h-full flex flex-col gap-4 items-center justify-center border-2 border-dashed border-border rounded-lg bg-muted/20 p-6",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[(0,a.jsx)("div",{className:"p-4 rounded-full bg-primary/10 text-primary",children:(0,a.jsx)(v.ukW,{className:"w-8 h-8"})}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Git Provider URL"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Paste a link to a CRD file on GitHub or GitLab"})]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(x.p,{placeholder:"https://github.com/...",value:o,onChange:e=>f(e.target.value)})})]})})})]}),(0,a.jsxs)("div",{className:"flex items-end gap-4 flex-shrink-0 pt-2 border-t border-border/50",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(h,{children:"Output Format"}),(0,a.jsxs)(p.l6,{value:u,onValueChange:k,children:[(0,a.jsx)(p.bq,{children:(0,a.jsx)(p.yv,{})}),(0,a.jsxs)(p.gC,{children:[(0,a.jsx)(p.eb,{value:"html",children:"HTML (Web Page)"}),(0,a.jsx)(p.eb,{value:"markdown",children:"Markdown (README)"})]})]})]}),(0,a.jsx)(n.$,{onClick:()=>{let l="",a="";if("raw"===e||"file"===e?l=s:"url"===e&&(a=o),!l&&!a)return void P({title:"Error",description:"Please provide CRD content or URL first.",variant:"destructive"});S(l,a,u)},disabled:L||("url"===e?!o:!s),className:"min-w-[120px]",children:L?"Generating...":"Generate Doc"})]})]})]})}),(0,a.jsx)("div",{className:"md:h-full h-[600px] min-h-0 flex flex-col",children:(0,a.jsxs)(d.Zp,{className:"h-full flex flex-col min-h-0",children:[(0,a.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2 flex-shrink-0",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(d.ZB,{children:"Preview"}),(0,a.jsx)(d.BT,{children:"Generated Documentation"})]}),(0,a.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{if(!C)return;let e=new Blob([C],{type:"html"===u?"text/html":"text/markdown"}),l=URL.createObjectURL(e),s=document.createElement("a");s.href=l,s.download="crd-documentation.".concat("html"===u?"html":"md"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(l)},disabled:!C,className:"gap-2",children:[(0,a.jsx)(v.qqM,{className:"w-4 h-4"})," Download"]})]}),(0,a.jsx)(d.Wu,{className:"flex-1 p-0 overflow-hidden relative min-h-0",children:L?(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground text-sm flex-col gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full border-4 border-primary border-t-transparent animate-spin"}),(0,a.jsx)("span",{children:"Generating documentation..."})]}):C?(0,a.jsx)("div",{className:"absolute inset-0 w-full h-full",children:"html"===u?(0,a.jsx)("iframe",{srcDoc:C,className:"w-full h-full border-0 bg-white",title:"Preview"}):(0,a.jsx)("div",{className:"w-full h-full overflow-auto bg-slate-950 text-slate-50 p-6",children:(0,a.jsx)("div",{className:"prose prose-invert prose-sm max-w-none",children:(0,a.jsx)(N.oz,{remarkPlugins:[w.A],rehypePlugins:[y.A],children:C})})})}):(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground text-sm",children:"Generated content will appear here"})})]})})]})})]})}},89188:(e,l,s)=>{Promise.resolve().then(s.bind(s,35634))}},e=>{e.O(0,[206,166,793,985,184,105,469,311,627,441,255,358],()=>e(e.s=89188)),_N_E=e.O()}]);